<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DOM Task | Getting Input</title>
    <!-- tailwindcss -->
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <!-- fontawsome cdn -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css"
      integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer" />
  </head>
  <body>
    
    <div class="">
      <h1 class="text-2xl bg-blue-300 p-5 text-center mb-10">
        WELCOME to <strong>User Manager</strong>
      </h1>

      <main id="main">
        <div class="flex justify-center gap-5">
          <input
            type="text"
            class="p-3 border border-blue-500 rounded-lg outline-none"
            id="input-name"
            maxlength="25"
            placeholder="Enter your Name"
            required />
          <input
            type="text"
            class="p-3 border border-blue-500 rounded-lg outline-none"
            id="input-role"
            maxlength="20"
            placeholder="Enter your Role"
            required />
          <button id="save-btn" class="bg-blue-500 px-5 rounded-full">
            Save
          </button>
        </div>
      </main>

      <div id="view-Profile"></div>
    </div>
    <script>
      let mainEl = document.getElementById("main");
      let inputNameEl = document.getElementById("input-name");
      let inputRoleEl = document.getElementById("input-role");
      let saveBtnEl = document.getElementById("save-btn");
      let viewProfileEl = document.getElementById("view-Profile");

      saveBtnEl.addEventListener("click", (event) => {
        event.preventDefault();
        let name = inputNameEl.value;
        let role = inputRoleEl.value;

        let profileDiv = document.createElement("div");
        profileDiv.className =
          "flex flex-col items-start pt-2 pl-4 mb-5 mt-5 border border-blue-400 w-[450px] mx-auto rounded-lg bg-blue-100";

        let nameEl = document.createElement("p");
        nameEl.className = "text-black ";
        nameEl.textContent = `Name : ${name}`;

        let roleEl = document.createElement("p");
        roleEl.className = "text-black ";
        roleEl.textContent = `Role : ${role}`;

        //  Check the Role

        if (role.toLowerCase().includes("developer")) {
          roleEl.className = "bg-green-500 rounded-sm px-1";
        }
        //delete button

        let delBtnEl = document.createElement("button");
        delBtnEl.textContent = "Remove";
        delBtnEl.className = "bg-red-500 p-2 mt-2 mb-2  rounded-lg ";

        //delete event

        delBtnEl.addEventListener("click", () => {
          //delete alert
          let deleteDiv = document.createElement("div");
          deleteDiv.innerHTML =
            "<strong>❌ Removed </strong> User has been Removed!";
          deleteDiv.className =
            "text-start mt-3 mb-8 pl-2 bg-red-300 w-[450px] mx-auto rounded-sm border-l-4 border-red-800";
          mainEl.prepend(deleteDiv);
          //set time

          setTimeout(() => {
            deleteDiv.remove();
          }, 3000);

          profileDiv.remove();
        });
        // creating alert

        let alertdiv = document.createElement("div");
        alertdiv.innerHTML =
          "<strong>✅ Successfully</strong>  User has been Updated!";
        alertdiv.className =
          "text-start mt-3 mb-8 pl-2 bg-green-300 w-[450px] mx-auto rounded-sm border-l-4 border-green-800";
        mainEl.prepend(alertdiv);

        //set time

        setTimeout(() => {
          alertdiv.remove();
        }, 3000);

        //append

        profileDiv.append(nameEl, roleEl, delBtnEl);

        viewProfileEl.append(profileDiv);
      });
    </script>
  </body>
</html>
